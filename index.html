<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Babyfur Purity Test</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon_io/favicon-16x16.png">    
    <script src="tob.js"></script>

    <style>
        body, html {
            height: 100%;
            margin: 0;
            font-family: "Times New Roman", Times, serif;
            color: #333;
        }
        body {
            background-image: url('bg.png');
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            background-attachment: fixed;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            box-sizing: border-box;
        }
        .logo {
            display: block;
            margin: 0 auto 40px;
            max-width: 420px;
            width: 420%;
            height: auto;
        }
        .logo:hover {
            text-align: center;
            animation: slowSpin 4s ease-in-out forwards, flickerGlow 6s linear infinite;
        }
        @keyframes slowSpin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(-11deg);
            }
        }
        @keyframes flickerGlow {
            0%, 100% {
                filter: drop-shadow(0 0 2px rgb(255, 255, 255));
            }
            5% {
                filter: drop-shadow(0 0 4px rgb(255, 255, 255));
            }
            5% {
                filter: drop-shadow(0 0 6px rgb(255, 255, 255));
            }
            22% {
                filter: drop-shadow(0 0 4px rgb(255, 255, 243));
            }
        }
        h1 {
            color: rgb(8, 37, 167);
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(32, 127, 187, 0.7);
        }
        .subtitle {
            font-style: italic;
            text-align: center;
            margin-bottom: 20px;
        }
        .subtitle2 {
            font-style: italic;
            color: rgb(143, 164, 255);
            font-size: 12px;
            text-align: center;
            margin-bottom: 20px;
        }
        .question {
            margin-bottom: 5px;
            background-color: rgba(255,255,255,0.7);
            border-radius: 5px;
            text-align: left;
        }
        input[type="checkbox"] {
            margin-right: 10px;
        }
        .button-container {
            text-align: center;
            margin-top: 20px;
        }
        button {
            padding: 10px 20px;
            background-color: #1a409a;
            color: #ffffff;
            border: 1px solid #112759;
            border-radius: 20px;
            cursor: pointer;
            font-family: "Comic Neue", "Comic Sans MS", cursive;
            font-size: 1em;
            margin: 10px;
            transition: background-color 0.3s, color 0.3s;
        }
        button:hover {
            background-color: #416fd9;
            color: #f0e8d5;
        }
        #score-display {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #c9ebff;
            z-index: 1000;
            text-align: center;
            overflow-y: auto;
        }
        #score-display h2 {
            font-size: 3em;
            margin-top: 10%;
        }
        #score h3 {
            font-size: 1em;
            margin-top: 10%;
            color: #577cd4;
        }
        #score-display .score {
            font-size: 6em;
            color: #1a409a;
        }
        #feedback {
            font-size: 1.5em;
            margin: 20px 0;
            padding: 0 20px;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1001;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 600px;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        input[type="text"] {
            width: 100%;
            padding: 5px;
            margin-bottom: 10px;
        }
        #comparison-results {
            margin-top: 20px;
            text-align: left;
        }
        .comparison-item {
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
        }
        .different {
            background-color: #ffe6e6;
        }
        .same {
            background-color: #e6ffe6;
        }
        @media (max-width: 600px) {
            .container {
                padding: 10px;
            }
            h1 {
                font-size: 2em;
            }
            .question {
                font-size: 0.9em;
            }
            button {
                font-size: 0.9em;
                padding: 8px 16px;
            }
            #score-display h2 {
                font-size: 2em;
            }
            #score-display .score {
                font-size: 4em;
            }
            #feedback {
                font-size: 1.2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div style="text-align: center;">
            <img src="https://i.ibb.co/2dHJ4nh/logo.png" alt="Logo" class="logo">
        </div>
        <p class="subtitle">This test is built on personal experiences so it may not fit all your boxes (the lower the score the more baby)</p>
        <p class="subtitle">Caution: This is not a bucket list. Completion of all items on this test will likely result in baby</p>
        <p class="subtitle">Click on every item you have done:</p>
    
        <div id="quiz"></div>
        <div class="button-container">
            <p class="subtitle">made with love @liltober</p>
            <button onclick="calculateScore()">Calculate My Score!</button>
            <button onclick="clearCheckboxes()">Clear checkboxes</button>
        </div>
    </div>
    <div id="score-display">
        <h2>Your score:</h2>
        <div class="score" id="score-value"></div>
        <div id="feedback"></div>
        <br><br>
        <button onclick="shareScore()">Share your score</button>
        <button onclick="showCompareModal()">Compare Results</button>
        <button onclick="redoTest()">Redo test</button>
        <p id="subtitle2">the lower the score the bigger baby</p>
        <p id="subtitle2">made by @liltober - test your score bigtober.github.io</p>
    </div>
    
    <div id="share-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('share-modal')">&times;</span>
            <div id="share-modal-content"></div>
        </div>
    </div>

    <div id="comparison-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('comparison-modal')">&times;</span>
            <h3>Compare Results</h3>
            <p>Enter your friend's code:</p>
            <textarea id="friend-results" rows="3" cols="40"></textarea>
            <br><br>
            <button onclick="compareResults()">Compare</button>
            <div id="comparison-results"></div>
        </div>
    </div>

    <script defer data-domain="bigtober.github.io" src="https://plausible.io/js/script.js"></script>

    <script>
        const questions = [
        "Bought a diaper online",
            "Bought diapers in person",
            "Put on a diaper",
            "Used a diaper",
            "Used a diaper past what you probably should",
            "Leaked a little",
            "Leaked a LOT",
            "Made stickies in your diaper",
        
            "Bought baby powder",
            "Bought a buzzy wand",
            "Bought a diaper that is discontinued",
            "Bought a onesie",
            "Bought overalls",
            "Bought shortalls",
            "Bought a paci",
            "Bought a bottle",
            "Bought something from Abu universe",
            "Own an abu hat or beanie",
            "Bought something from Onesie downunder",
            "Bought something from Tykables",   

            "Made food while padded",
            "Built legos while padded",
            "Gone to the movies padded",
            "Gone to work padded",
            "Gone to school padded",

            "Wore a diaper without those around you knowing",
            "Wore a diaper with people around you knowing",
            "Wore a diaper to a furry con",

            "Wore a diaper for an entire furry con",
            "Wore a diaper while suiting",
            "Wore a diaper in a pool",
            "Wore a diaper in a shower/bath",
            "Wore a diaper on a flight",

            "Almost got caught wearing a diaper",
            "Got caught wearing a diaper",

            "Snoofed your own diaper",
            "Want to snoof someone elses diaper",
            "Snoofed someone elses diaper",
            "Had a diaper pail of 2 diapers",
            "Had a diaper pail of 5+ diapers",
            "Had a diaper pail of 10+ diapers",

            "Taken a photo of yourself wearing a diaper",
            "Taken padded pics with friends",
            "Gone 1 day without using a toilet",
            "Gone 5 days without using a toilet",
            "Gone 14 days without using a toilet",
            "Gone 30 days without using a toilet",
            "Gone 1+ year without using a toilet",

            "Drank alcohol while padded",
            "Done some kind of drugs while padded",

            "Peed without someone in the room knowing you did",
            "Pooped without someone in the room knowing you did",

            "Held in your pee all day so you could pee in a diaper later",
            "Didn't change for 8 hours",
            "Didn't change for 24 hours",
            "Didn't change for 48 hours",
            "Didn't change for a WEEK?!?",

            "Done the oatmeal trick",
            "Done the banana trick",
            "Done the marshmallow trick",

            "Peed in someone elses diaper",
            "Dated someone who is also a babyfur",
            "Taken a day off work or studies to wear all day",
            "Told a non babyfur that you wear diapers",
            "Turned someone onto diapers",

            "Got 1 commision of your sona wearing a diaper",
            "Gotten 10 commisions of your sona wearing a diaper",
            "Gotten 20+ commision of your sona wearing a diaper",

            "Almost broke your diaper due to buzzy wand",
            "Broke your diaper due to buzzy wand",

            "Had a funny feeling about diapers since young",
            "Wanted to be kept in diapers",

            "Had a dream being diapered",

            "Leaked in bed due to not wearing a diaper",
            "Forgot you were not wearing a diaper and peed your pants",
            "Had someone tease you about your diapers",
            "Gotten changes in the back of a car",
            "Gone on a diaper road trip",

            "Had someone complement your diaper irl",
            "Always wanted to get changed by someone",
            "Gotten changed by someone",
            "Gotten changed in a public restroom",
            "Changed someone elses diaper",

            "Put on a friends diaper",
            "A friend put on your diaper",
            "Made a friend through liking diapers",
            "Drove 3+ hours wearing a diaper",

            "Received diapers as a gift",
            "Given diapers as a gift",
            "Post more on your diaper account than your main",
            "Drank/did Laxatives",
            "Received an Enema",
            "Day dreamed about wearing diapers",
            "Day dreamed about someone else wearing diapers",
            "Used tape to keep your diaper together",
            "Brought diapers with you on a trip",
            "Had TSA search your diapers",
       
            "You have padded Telegram stickers",
            "You are apart of a babyfur groupchat",
            "Most of your home page is babyfurs",
        ];

        function generateQuiz() {
            const quizContainer = document.getElementById('quiz');
            questions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.innerHTML = `
                    <input type="checkbox" id="q${index}">
                    <label for="q${index}">${index + 1}. ${q}</label>
                `;
                quizContainer.appendChild(questionDiv);
            });
        }

        function calculateScore() {
            let score = questions.length;
            questions.forEach((_, index) => {
                if (document.getElementById(`q${index}`).checked) {
                    score--;
                }
            });
            document.getElementById('score-value').textContent = score;
            document.getElementById('feedback').textContent = getFeedback(score);
            document.getElementById('score-display').style.display = 'block';
        }

        function getFeedback(score) {
            if (score >= 95) return "probably not a babyfur";
            if (score >= 90) return "You are slowly getting into the community?";
            if (score >= 85) return "Ok so you may or may not have worn a diaper";
            if (score >= 80) return "Maybe your just a baby minus the fur?";
            if (score >= 75) return "Ok ok.. You might be a baby..";
            if (score >= 70) return "You're quite the baby";
            if (score >= 65) return "You have some experience huh";
            if (score >= 60) return "You may need to check your pants";
            if (score >= 55) return "You've seen some diapers";
            if (score >= 50) return "Probably a baby";
            if (score >= 45) return "For sure leaky pants";
            if (score >= 40) return "You've got some stories to tell!";
            if (score >= 35) return "this must be easy for you";
            if (score >= 30) return "You are a natural at this";
            if (score >= 25) return "You're in need of a change asap";
            if (score >= 20) return "Someone needs a change soon";
            if (score >= 15) return "Yep this score proves your stinky";
            if (score >= 12) return "Stinky";
            if (score >= 11) return "You probably leaked this past month";
            if (score >= 10) return "You def need changes rn";
            if (score >= 7) return "Bring out the changing matt";
            if (score >= 6) return "Experienced huh?";
            if (score >= 5) return "YOU ARE THE ULTIMATE BABYFUR";
            if (score >= 4) return "MASSIVE BABYFUR VIBES";
            if (score >= 3) return "Why are you taking this test, get on the matt";
            if (score >= 2) return "ok this is an insane score.. may i ask how?";
            return "You're in a league of your own!";
        }

        function clearCheckboxes() {
            questions.forEach((_, index) => {
                document.getElementById(`q${index}`).checked = false;
            });
        }

        function encodeResults() {
            return btoa(questions.map((_, index) => 
                document.getElementById(`q${index}`).checked ? '1' : '0'
            ).join(''));
        }

        function decodeResults(encodedResults) {
            return atob(encodedResults).split('').map(char => char === '1');
        }

        function shareScore() {
            const score = document.getElementById('score-value').textContent;
            const encodedResults = encodeResults();
            const shareUrl = window.location.href;
            const shareText = `I scored ${score} on the Babyfur Purity Test. Try it out!`;
            const fullShareText = `${shareText} ${shareUrl}`;
            
            const modalContent = `
                <h3>Share Your Results</h3>
                <p>Comparison Code (for friends to compare results):</p>
                <input type="text" id="compare-code" value="${encodedResults}" readonly>
                <button onclick="copyToClipboard('compare-code')">Copy Code</button>
                <br><br>
                <p>Share Link (to invite others to take the test):</p>
                <input type="text" id="share-link" value="${fullShareText}" readonly>
                <button onclick="copyToClipboard('share-link')">Copy Link</button>
            `;
            
            document.getElementById('share-modal-content').innerHTML = modalContent;
            document.getElementById('share-modal').style.display = 'block';
        }

        function showCompareModal() {
            document.getElementById('comparison-modal').style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function copyToClipboard(elementId) {
            const copyText = document.getElementById(elementId);
            copyText.select();
            copyText.setSelectionRange(0, 99999); // For mobile devices
            document.execCommand('copy');
            
            // Visual feedback
            const originalText = copyText.nextElementSibling.innerText;
            copyText.nextElementSibling.innerText = 'Copied!';
            setTimeout(() => {
                copyText.nextElementSibling.innerText = originalText;
            }, 2000);
        }

        function compareResults() {
            const myResults = questions.map((_, index) => 
                document.getElementById(`q${index}`).checked
            );
            const friendEncodedResults = document.getElementById('friend-results').value;
            const friendResults = decodeResults(friendEncodedResults);

            let comparisonHtml = '<h4>Comparison Results:</h4>';
            let sameCount = 0;
            let differentCount = 0;

            questions.forEach((question, index) => {
                if (myResults[index] === friendResults[index]) {
                    sameCount++;
                } else {
                    differentCount++;
                    comparisonHtml += `
                        <div class="comparison-item different">
                            <strong>${index + 1}. ${question}</strong><br>
                            You: ${myResults[index] ? 'Yes' : 'No'}<br>
                            Friend: ${friendResults[index] ? 'Yes' : 'No'}
                        </div>
                    `;
                }
            });

            comparisonHtml = `
                <p>You and your friend answered ${sameCount} questions the same way and ${differentCount} questions differently.</p>
                <h4>Differences:</h4>
            ` + comparisonHtml;

            document.getElementById('comparison-results').innerHTML = comparisonHtml;
        }

        function redoTest() {
            clearCheckboxes();
            document.getElementById('score-display').style.display = 'none';
        }

        generateQuiz();

        // Close modals when clicking outside
        window.onclick = function(event) {
            if (event.target.className === 'modal') {
                event.target.style.display = 'none';
            }
        }
    </script>
</body>
</html>